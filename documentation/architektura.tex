\justy{System oparty jest o architekturę klient - serwer. Aplikacja kliencka jest desktopowa. Jej zadaniem jest udostępnienie interfejsu dla użytkownika w taki sposób, aby umożliwić sprawne i łatwe korzystanie z usług serwera. Aplikacja zapewnia również poziom bezpieczeństwa szyfrując/deszyfrując aplikację (serwer pełni rolę pośrednika, nie uczestniczy w komunikacji, nie jest w stanie "podsłuchać" rozmowy, gdyż ta jest szyfrowana.) W architekturze definiujemy 3 byty uczestniczące w procesie komunikacji:}

\begin{itemize}
	\item \textit{Serwer} - aplikacja napisana w języku Java z użyciem frameworka Spring Boot. Jest instalowana na urządzeniu z wystarczającymi zasobami do zarządzania komunikacją (np. laptop, przy założeniu, że ilość żądań będzie nieznaczna),
	\item \textit{Klient} - aplikacja kliencka wykorzystująca JavaFX,
	\item \textit{Użytkownik} -\justy{osoba posiadająca zainstalowaną aplikację wraz z }wylosowanym (przez serwer) unikalnym id,
	\item \textit{Osoba akceptująca połączenie} - \justy{jest to użytkownik, który otrzymał informację poprzez interfejs, że inny użytkownik chce się z nim połączyć.}
\end{itemize}


\justy{Użytkownik po uruchomieniu aplikacji klienckiej zostaje poproszony o wpisanie pseudonimu (pod warunkiem, że nie został już wpisany), następnie klient wysyła żądanie do serwera o "zarejestrowanie", żądanie składa się z wylosowanego uprzednio klucza publicznego, a także pseudonimu użytkownika. Serwer dodaje klienta do kolejki nadając mu unikalny identyfikator, od tej pory komunikacja oparta jest o ten identyfikator. W momencie w którym użytkownik zechce połączyć się innym użytkownikiem klient wysyła żądanie do serwera o sparowanie dwóch użytkowników (drugim jest osoba akceptująca połączenie). Jeśli połączenie zostanie zaakceptowane serwer tworzy sesję, a następnie wysyła odpowiednie komunikaty wraz z odpowiednimi kluczami publicznymi do klientów. Aplikacje desktopowe używają kluczy publicznych do wylosowania 128 bitowego klucza AES po 64 bity każdy, gdzie pierwsze 64 bity należy do osoby żądającej połączenia, a ostatnie 64 bity należy do osoby akceptującej. Obie strony wymieniają się zaszyfrowanymi częściami klucza, ostatnim krokiem jest potwierdzenie otrzymania części drugiej strony. Od tego momentu komunikacja jest szyfrowana AES-128, aż do zakończenia rozmowy.}
